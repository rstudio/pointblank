<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Add column information from another data table — info_columns_from_tbl • pointblank</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Add column information from another data table — info_columns_from_tbl"><meta name="description" content='The info_columns_from_tbl() function is a wrapper around the
info_columns() function and is useful if you wish to apply info text to
columns where that information already exists in a data frame (or in some
form that can readily be coaxed into a data frame). The form of the input
tbl (the one that contains column metadata) has a few basic requirements:
the data frame must have two columns
both columns must be of class character
the first column should contain column names and the second should contain
the info text


Each column that matches across tables (i.e., the tbl and the target table
of the informant) will have a new entry for the "info" property. Empty or
missing info text will be pruned from tbl.'><meta property="og:description" content='The info_columns_from_tbl() function is a wrapper around the
info_columns() function and is useful if you wish to apply info text to
columns where that information already exists in a data frame (or in some
form that can readily be coaxed into a data frame). The form of the input
tbl (the one that contains column metadata) has a few basic requirements:
the data frame must have two columns
both columns must be of class character
the first column should contain column names and the second should contain
the info text


Each column that matches across tables (i.e., the tbl and the target table
of the informant) will have a new entry for the "info" property. Empty or
missing info text will be pruned from tbl.'><meta property="og:image" content="https://rstudio.github.io/pointblank/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">pointblank</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.12.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/pointblank.html">Get Started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><h6 class="dropdown-header" data-toc-skip>Validation Workflows</h6></li>
    <li><a class="dropdown-item" href="../articles/validation_workflows.html">Overview</a></li>
    <li><a class="dropdown-item" href="../articles/VALID-I.html">VALID-I: Data Quality Reporting</a></li>
    <li><a class="dropdown-item" href="../articles/VALID-II.html">VALID-II: Pipeline Data Validation</a></li>
    <li><a class="dropdown-item" href="../articles/VALID-III.html">VALID-III: Expectations in Unit Tests</a></li>
    <li><a class="dropdown-item" href="../articles/VALID-IV.html">VALID-IV: Data Tests for Conditionals</a></li>
    <li><a class="dropdown-item" href="../articles/VALID-V.html">VALID-V: Table Scan</a></li>
    <li><a class="dropdown-item" href="../articles/VALID-VI.html">VALID-VI: R Markdown Document Validation</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Information Management</h6></li>
    <li><a class="dropdown-item" href="../articles/INFO-1.html">Intro to Information Management</a></li>
    <li><a class="dropdown-item" href="../articles/INFO-2.html">Advanced Information Management</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rstudio/pointblank/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Add column information from another data table</h1>
      <small class="dont-index">Source: <a href="https://github.com/rstudio/pointblank/blob/main/R/info_add.R" class="external-link"><code>R/info_add.R</code></a></small>
      <div class="d-none name"><code>info_columns_from_tbl.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>info_columns_from_tbl()</code> function is a wrapper around the
<code><a href="info_columns.html">info_columns()</a></code> function and is useful if you wish to apply <em>info text</em> to
columns where that information already exists in a data frame (or in some
form that can readily be coaxed into a data frame). The form of the input
<code>tbl</code> (the one that contains column metadata) has a few basic requirements:</p><ul><li><p>the data frame must have two columns</p></li>
<li><p>both columns must be of class <code>character</code></p></li>
<li><p>the first column should contain column names and the second should contain
the <em>info text</em></p></li>
</ul><p>Each column that matches across tables (i.e., the <code>tbl</code> and the target table
of the informant) will have a new entry for the <code>"info"</code> property. Empty or
missing info text will be pruned from <code>tbl</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">info_columns_from_tbl</span><span class="op">(</span><span class="va">x</span>, <span class="va">tbl</span>, .add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p><em>The pointblank informant object</em></p>
<p><code>obj:&lt;ptblank_informant&gt;</code> // <strong>required</strong></p>
<p>A <strong>pointblank</strong> <em>informant</em> object that is commonly created through the
use of the <code><a href="create_informant.html">create_informant()</a></code> function.</p></dd>


<dt id="arg-tbl">tbl<a class="anchor" aria-label="anchor" href="#arg-tbl"></a></dt>
<dd><p><em>Metadata table with column information</em></p>
<p><code>obj:&lt;tbl_*&gt;</code> // <strong>required</strong></p>
<p>The two-column data frame which contains metadata about the target table in
the informant object.</p></dd>


<dt id="arg--add">.add<a class="anchor" aria-label="anchor" href="#arg--add"></a></dt>
<dd><p><em>Add to existing info text</em></p>
<p><code>scalar&lt;logical&gt;</code> // <em>default:</em> <code>TRUE</code></p>
<p>Should new text be added to existing text? This is <code>TRUE</code> by default;
setting to <code>FALSE</code> replaces any existing text for the <code>"info"</code> property.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>ptblank_informant</code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h2>



<p>Create a pointblank <code>informant</code> object with <code><a href="create_informant.html">create_informant()</a></code>. We can
specify a <code>tbl</code> with the <code>~</code> followed by a statement that gets the
<code>game_revenue</code> dataset.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">informant</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/create_informant.html">create_informant</a></span><span class="op">(</span></span>
<span>    tbl <span class="op">=</span> <span class="op">~</span> <span class="va">game_revenue</span>,</span>
<span>    tbl_name <span class="op">=</span> <span class="st">"game_revenue"</span>,</span>
<span>    label <span class="op">=</span> <span class="st">"An example."</span></span>
<span>  <span class="op">)</span></span></code></pre><p></p></div>
<p>We can add <em>info text</em> to describe the data in the various columns of the
table by using <code><a href="info_columns.html">info_columns()</a></code> or information in another table (with
<code>info_columns_from_tbl()</code>). Here, we'll do the latter. The
<code>game_revenue_info</code> dataset is included in <strong>pointblank</strong> and it contains
metadata for <code>game_revenue</code>.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">game_revenue_info</span></span>
<span><span class="co">#&gt; # A tibble: 11 x 2</span></span>
<span><span class="co">#&gt;    column           info</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;            &lt;chr&gt;</span></span>
<span><span class="co">#&gt;  1 player_id        A `character` column with unique identifiers for each user/~</span></span>
<span><span class="co">#&gt;  2 session_id       A `character` column that contains unique identifiers for e~</span></span>
<span><span class="co">#&gt;  3 session_start    A date-time column that indicates when the session (contain~</span></span>
<span><span class="co">#&gt;  4 time             A date-time column that indicates exactly when the player p~</span></span>
<span><span class="co">#&gt;  5 item_type        A `character` column that provides the class of the item pu~</span></span>
<span><span class="co">#&gt;  6 item_name        A `character` column that provides the name of the item pur~</span></span>
<span><span class="co">#&gt;  7 item_revenue     A `numeric` column with the revenue amounts per item purcha~</span></span>
<span><span class="co">#&gt;  8 session_duration A `numeric` column that states the length of the session (i~</span></span>
<span><span class="co">#&gt;  9 start_day        A `Date` column that provides the date of first login for t~</span></span>
<span><span class="co">#&gt; 10 acquisition      A `character` column that provides the method of acquisitio~</span></span>
<span><span class="co">#&gt; 11 country          A `character` column that provides the probable country of ~</span></span></code></pre><p></p></div>
<p>The <code>info_columns_from_tbl()</code> function takes a table object where the first
column has the column names and the second contains the <em>info text</em>.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">informant</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">informant</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/info_columns_from_tbl.html">info_columns_from_tbl</a></span><span class="op">(</span>tbl <span class="op">=</span> <span class="va">game_revenue_info</span><span class="op">)</span></span></code></pre><p></p></div>
<p>Upon printing the <code>informant</code> object, we see the additions made to the
'Columns' section by the <code>info_columns_from_tbl(tbl = game_revenue_info)</code>
call.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">informant</span></span></code></pre><p></p></div>
<p><img src="https://raw.githubusercontent.com/rstudio/pointblank/main/images/man_info_columns_from_tbl_1.png" alt="This image was generated from the first code example in the `info_columns_from_tbl()` help file." style="width:100%;"></p>
<p>We can continue to add more <em>info text</em> to describe the columns since the
process is additive. The <code>info_columns_from_tbl()</code> function populates the
<code>info</code> subsection and any calls of <code><a href="info_columns.html">info_columns()</a></code> that also target a <code>info</code>
subsection will append text. Here, we'll add content for the <code>item_revenue</code>
and <code>acquisition</code> columns and view the updated report.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">informant</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">informant</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/info_columns.html">info_columns</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">item_revenue</span>,</span>
<span>    info <span class="op">=</span> <span class="st">"Revenue reported in USD."</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/info_columns.html">info_columns</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">acquisition</span>,</span>
<span>    `top list` <span class="op">=</span> <span class="st">"{top5_aq}"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/info_snippet.html">info_snippet</a></span><span class="op">(</span></span>
<span>    snippet_name <span class="op">=</span> <span class="st">"top5_aq"</span>,</span>
<span>    fn <span class="op">=</span> <span class="fu"><a href="../reference/snip_list.html">snip_list</a></span><span class="op">(</span>column <span class="op">=</span> <span class="st">"acquisition"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/incorporate.html">incorporate</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">informant</span></span></code></pre><p></p></div>
<p><img src="https://raw.githubusercontent.com/rstudio/pointblank/main/images/man_info_columns_from_tbl_2.png" alt="This image was generated from the second code example in the `info_columns_from_tbl()` help file." style="width:100%;"></p>
    </div>
    <div class="section level2">
    <h2 id="function-id">Function ID<a class="anchor" aria-label="anchor" href="#function-id"></a></h2>


<p>3-3</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>The <code><a href="info_columns.html">info_columns()</a></code> function, which allows for manual entry of
<em>info text</em>.</p>
<p>Other Information Functions:
<code><a href="info_columns.html">info_columns</a>()</code>,
<code><a href="info_section.html">info_section</a>()</code>,
<code><a href="info_snippet.html">info_snippet</a>()</code>,
<code><a href="info_tabular.html">info_tabular</a>()</code>,
<code><a href="snip_highest.html">snip_highest</a>()</code>,
<code><a href="snip_list.html">snip_list</a>()</code>,
<code><a href="snip_lowest.html">snip_lowest</a>()</code>,
<code><a href="snip_stats.html">snip_stats</a>()</code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Richard Iannone, Mauricio Vargas, June Choe.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

