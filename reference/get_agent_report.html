<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get a summary report from an agent — get_agent_report • pointblank</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Get a summary report from an agent — get_agent_report"><meta name="description" content='We can get an informative summary table from an agent by using the
get_agent_report() function. The table can be provided in two substantially
different forms: as a gt based display table (the default), or, as a
tibble. The amount of fields with intel is different depending on whether or
not the agent performed an interrogation (with the interrogate() function).
Basically, before interrogate() is called, the agent will contain just the
validation plan (however many rows it has depends on how many validation
functions were supplied a part of that plan). Post-interrogation, information
on the passing and failing test units is provided, along with indicators on
whether certain failure states were entered (provided they were set through
actions). The display table variant of the agent report, the default form,
will have the following columns:

i (unlabeled): the validation step number.
STEP: the name of the validation function used for the validation step,
COLUMNS: the names of the target columns used in the validation step
(if applicable).
VALUES: the values used in the validation step, where applicable; this
could be as literal values, as column names, an expression, etc.
TBL: indicates whether any there were any changes to the target table
just prior to interrogation. A rightward arrow from a small circle indicates
that there was no mutation of the table. An arrow from a circle to a purple
square indicates that preconditions were used to modify the target table. An
arrow from a circle to a half-filled circle indicates that the target table
has been segmented.
EVAL: a symbol that denotes the success of interrogation evaluation
for each step. A checkmark indicates no issues with evaluation. A warning
sign indicates that a warning occurred during evaluation. An explosion symbol
indicates that evaluation failed due to an error. Hover over the symbol for
details on each condition.
UNITS: the total number of test units for the validation step
PASS: on top is the absolute number of passing test units and below
that is the fraction of passing test units over the total number of test
units.
FAIL: on top is the absolute number of failing test units and below
that is the fraction of failing test units over the total number of test
units.
W, S, N: indicators that show whether the warn, stop, or notify
states were entered; unset states appear as dashes, states that are set with
thresholds appear as unfilled circles when not entered and filled when
thresholds are exceeded (colors for W, S, and N are amber, red, and blue)
EXT: a column that provides buttons to download data extracts as CSV
files for row-based validation steps having failing test units. Buttons
only appear when there is data to collect.


The small version of the display table (obtained using size = "small")
omits the COLUMNS, TBL, and EXT columns. The width of the small table
is 575px; the standard table is 875px wide.
The ptblank_agent_report can be exported to a standalone HTML document
with the export_report() function.
If choosing to get a tibble (with display_table = FALSE), it will have the
following columns:

i: the validation step number.
type: the name of the validation function used for the validation step.
columns: the names of the target columns used in the validation step
(if applicable).
values: the values used in the validation step, where applicable; for
a conjointly() validation step, this is a listing of all sub-validations.
precon: indicates whether any there are any preconditions to apply
before interrogation and, if so, the number of statements used.
active: a logical value that indicates whether a validation step is
set to "active" during an interrogation.
eval: a character value that denotes the success of interrogation
evaluation for each step. A value of "OK" indicates no issues with
evaluation. The "WARNING" value indicates a warning occurred during
evaluation. The "ERROR" VALUES indicates that evaluation failed due to an
error. With "W+E" both warnings and an error occurred during evaluation.
units: the total number of test units for the validation step.
n_pass: the number of passing test units.
f_pass: the fraction of passing test units.
W, S, N: logical value stating whether the warn, stop, or notify
states were entered. Will be NA for states that are unset.
extract: an integer value that indicates the number of rows available
in a data extract. Will be NA if no extract is available.

'><meta property="og:description" content='We can get an informative summary table from an agent by using the
get_agent_report() function. The table can be provided in two substantially
different forms: as a gt based display table (the default), or, as a
tibble. The amount of fields with intel is different depending on whether or
not the agent performed an interrogation (with the interrogate() function).
Basically, before interrogate() is called, the agent will contain just the
validation plan (however many rows it has depends on how many validation
functions were supplied a part of that plan). Post-interrogation, information
on the passing and failing test units is provided, along with indicators on
whether certain failure states were entered (provided they were set through
actions). The display table variant of the agent report, the default form,
will have the following columns:

i (unlabeled): the validation step number.
STEP: the name of the validation function used for the validation step,
COLUMNS: the names of the target columns used in the validation step
(if applicable).
VALUES: the values used in the validation step, where applicable; this
could be as literal values, as column names, an expression, etc.
TBL: indicates whether any there were any changes to the target table
just prior to interrogation. A rightward arrow from a small circle indicates
that there was no mutation of the table. An arrow from a circle to a purple
square indicates that preconditions were used to modify the target table. An
arrow from a circle to a half-filled circle indicates that the target table
has been segmented.
EVAL: a symbol that denotes the success of interrogation evaluation
for each step. A checkmark indicates no issues with evaluation. A warning
sign indicates that a warning occurred during evaluation. An explosion symbol
indicates that evaluation failed due to an error. Hover over the symbol for
details on each condition.
UNITS: the total number of test units for the validation step
PASS: on top is the absolute number of passing test units and below
that is the fraction of passing test units over the total number of test
units.
FAIL: on top is the absolute number of failing test units and below
that is the fraction of failing test units over the total number of test
units.
W, S, N: indicators that show whether the warn, stop, or notify
states were entered; unset states appear as dashes, states that are set with
thresholds appear as unfilled circles when not entered and filled when
thresholds are exceeded (colors for W, S, and N are amber, red, and blue)
EXT: a column that provides buttons to download data extracts as CSV
files for row-based validation steps having failing test units. Buttons
only appear when there is data to collect.


The small version of the display table (obtained using size = "small")
omits the COLUMNS, TBL, and EXT columns. The width of the small table
is 575px; the standard table is 875px wide.
The ptblank_agent_report can be exported to a standalone HTML document
with the export_report() function.
If choosing to get a tibble (with display_table = FALSE), it will have the
following columns:

i: the validation step number.
type: the name of the validation function used for the validation step.
columns: the names of the target columns used in the validation step
(if applicable).
values: the values used in the validation step, where applicable; for
a conjointly() validation step, this is a listing of all sub-validations.
precon: indicates whether any there are any preconditions to apply
before interrogation and, if so, the number of statements used.
active: a logical value that indicates whether a validation step is
set to "active" during an interrogation.
eval: a character value that denotes the success of interrogation
evaluation for each step. A value of "OK" indicates no issues with
evaluation. The "WARNING" value indicates a warning occurred during
evaluation. The "ERROR" VALUES indicates that evaluation failed due to an
error. With "W+E" both warnings and an error occurred during evaluation.
units: the total number of test units for the validation step.
n_pass: the number of passing test units.
f_pass: the fraction of passing test units.
W, S, N: logical value stating whether the warn, stop, or notify
states were entered. Will be NA for states that are unset.
extract: an integer value that indicates the number of rows available
in a data extract. Will be NA if no extract is available.

'><meta property="og:image" content="https://rstudio.github.io/pointblank/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">pointblank</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.12.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/pointblank.html">Get Started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><h6 class="dropdown-header" data-toc-skip>Validation Workflows</h6></li>
    <li><a class="dropdown-item" href="../articles/validation_workflows.html">Overview</a></li>
    <li><a class="dropdown-item" href="../articles/VALID-I.html">VALID-I: Data Quality Reporting</a></li>
    <li><a class="dropdown-item" href="../articles/VALID-II.html">VALID-II: Pipeline Data Validation</a></li>
    <li><a class="dropdown-item" href="../articles/VALID-III.html">VALID-III: Expectations in Unit Tests</a></li>
    <li><a class="dropdown-item" href="../articles/VALID-IV.html">VALID-IV: Data Tests for Conditionals</a></li>
    <li><a class="dropdown-item" href="../articles/VALID-V.html">VALID-V: Table Scan</a></li>
    <li><a class="dropdown-item" href="../articles/VALID-VI.html">VALID-VI: R Markdown Document Validation</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Information Management</h6></li>
    <li><a class="dropdown-item" href="../articles/INFO-1.html">Intro to Information Management</a></li>
    <li><a class="dropdown-item" href="../articles/INFO-2.html">Advanced Information Management</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rstudio/pointblank/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Get a summary report from an agent</h1>
      <small class="dont-index">Source: <a href="https://github.com/rstudio/pointblank/blob/main/R/get_agent_report.R" class="external-link"><code>R/get_agent_report.R</code></a></small>
      <div class="d-none name"><code>get_agent_report.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>We can get an informative summary table from an agent by using the
<code>get_agent_report()</code> function. The table can be provided in two substantially
different forms: as a <strong>gt</strong> based display table (the default), or, as a
tibble. The amount of fields with intel is different depending on whether or
not the agent performed an interrogation (with the <code><a href="interrogate.html">interrogate()</a></code> function).
Basically, before <code><a href="interrogate.html">interrogate()</a></code> is called, the agent will contain just the
validation plan (however many rows it has depends on how many validation
functions were supplied a part of that plan). Post-interrogation, information
on the passing and failing test units is provided, along with indicators on
whether certain failure states were entered (provided they were set through
<code>actions</code>). The display table variant of the agent report, the default form,
will have the following columns:</p>
<ul><li><p>i (unlabeled): the validation step number.</p></li>
<li><p>STEP: the name of the validation function used for the validation step,</p></li>
<li><p>COLUMNS: the names of the target columns used in the validation step
(if applicable).</p></li>
<li><p>VALUES: the values used in the validation step, where applicable; this
could be as literal values, as column names, an expression, etc.</p></li>
<li><p>TBL: indicates whether any there were any changes to the target table
just prior to interrogation. A rightward arrow from a small circle indicates
that there was no mutation of the table. An arrow from a circle to a purple
square indicates that preconditions were used to modify the target table. An
arrow from a circle to a half-filled circle indicates that the target table
has been segmented.</p></li>
<li><p>EVAL: a symbol that denotes the success of interrogation evaluation
for each step. A checkmark indicates no issues with evaluation. A warning
sign indicates that a warning occurred during evaluation. An explosion symbol
indicates that evaluation failed due to an error. Hover over the symbol for
details on each condition.</p></li>
<li><p>UNITS: the total number of test units for the validation step</p></li>
<li><p>PASS: on top is the absolute number of <em>passing</em> test units and below
that is the fraction of <em>passing</em> test units over the total number of test
units.</p></li>
<li><p>FAIL: on top is the absolute number of <em>failing</em> test units and below
that is the fraction of <em>failing</em> test units over the total number of test
units.</p></li>
<li><p>W, S, N: indicators that show whether the <code>warn</code>, <code>stop</code>, or <code>notify</code>
states were entered; unset states appear as dashes, states that are set with
thresholds appear as unfilled circles when not entered and filled when
thresholds are exceeded (colors for W, S, and N are amber, red, and blue)</p></li>
<li><p>EXT: a column that provides buttons to download data extracts as CSV
files for row-based validation steps having <strong>failing</strong> test units. Buttons
only appear when there is data to collect.</p></li>
</ul><p>The small version of the display table (obtained using <code>size = "small"</code>)
omits the <code>COLUMNS</code>, <code>TBL</code>, and <code>EXT</code> columns. The width of the small table
is 575px; the standard table is 875px wide.</p>
<p>The <code>ptblank_agent_report</code> can be exported to a standalone HTML document
with the <code><a href="export_report.html">export_report()</a></code> function.</p>
<p>If choosing to get a tibble (with <code>display_table = FALSE</code>), it will have the
following columns:</p>
<ul><li><p>i: the validation step number.</p></li>
<li><p>type: the name of the validation function used for the validation step.</p></li>
<li><p>columns: the names of the target columns used in the validation step
(if applicable).</p></li>
<li><p>values: the values used in the validation step, where applicable; for
a <code><a href="conjointly.html">conjointly()</a></code> validation step, this is a listing of all sub-validations.</p></li>
<li><p>precon: indicates whether any there are any preconditions to apply
before interrogation and, if so, the number of statements used.</p></li>
<li><p>active: a logical value that indicates whether a validation step is
set to <code>"active"</code> during an interrogation.</p></li>
<li><p>eval: a character value that denotes the success of interrogation
evaluation for each step. A value of <code>"OK"</code> indicates no issues with
evaluation. The <code>"WARNING"</code> value indicates a warning occurred during
evaluation. The <code>"ERROR"</code> VALUES indicates that evaluation failed due to an
error. With <code>"W+E"</code> both warnings and an error occurred during evaluation.</p></li>
<li><p>units: the total number of test units for the validation step.</p></li>
<li><p>n_pass: the number of <em>passing</em> test units.</p></li>
<li><p>f_pass: the fraction of <em>passing</em> test units.</p></li>
<li><p>W, S, N: logical value stating whether the <code>warn</code>, <code>stop</code>, or <code>notify</code>
states were entered. Will be <code>NA</code> for states that are unset.</p></li>
<li><p>extract: an integer value that indicates the number of rows available
in a data extract. Will be <code>NA</code> if no extract is available.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_agent_report</span><span class="op">(</span></span>
<span>  <span class="va">agent</span>,</span>
<span>  arrange_by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"i"</span>, <span class="st">"severity"</span><span class="op">)</span>,</span>
<span>  keep <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"all"</span>, <span class="st">"fail_states"</span><span class="op">)</span>,</span>
<span>  display_table <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  size <span class="op">=</span> <span class="st">"standard"</span>,</span>
<span>  title <span class="op">=</span> <span class="st">":default:"</span>,</span>
<span>  lang <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  locale <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-agent">agent<a class="anchor" aria-label="anchor" href="#arg-agent"></a></dt>
<dd><p><em>The pointblank agent object</em></p>
<p><code>obj:&lt;ptblank_agent&gt;</code> // <strong>required</strong></p>
<p>A <strong>pointblank</strong> <em>agent</em> object that is commonly created through the use of
the <code><a href="create_agent.html">create_agent()</a></code> function.</p></dd>


<dt id="arg-arrange-by">arrange_by<a class="anchor" aria-label="anchor" href="#arg-arrange-by"></a></dt>
<dd><p><em>Method of arranging the report's table rows</em></p>
<p><code>singl-kw:[i|severity]</code> // <em>default:</em> <code>"i"</code></p>
<p>A choice to arrange the report table rows by the validation step number
(<code>"i"</code>, the default), or, to arrange in descending order by severity of the
failure state (with <code>"severity"</code>).</p></dd>


<dt id="arg-keep">keep<a class="anchor" aria-label="anchor" href="#arg-keep"></a></dt>
<dd><p><em>Which table rows should be kept?</em></p>
<p><code>singl-kw:[all|fail_states]</code> // <em>default:</em> <code>"all"</code></p>
<p>An option to keep <code>"all"</code> of the report's table rows (the
default), or, keep only those rows that reflect one or more
<code>"fail_states"</code>.</p></dd>


<dt id="arg-display-table">display_table<a class="anchor" aria-label="anchor" href="#arg-display-table"></a></dt>
<dd><p><em>Return a display-table report via gt</em></p>
<p><code>scalar&lt;logical&gt;</code> // <em>default:</em> <code>TRUE</code></p>
<p>Should a display table be generated? If <code>TRUE</code>, and if the <strong>gt</strong> package
is installed, a display table for the report will be shown in the Viewer.
If <code>FALSE</code>, or if <strong>gt</strong> is not available, then a tibble will be returned.</p></dd>


<dt id="arg-size">size<a class="anchor" aria-label="anchor" href="#arg-size"></a></dt>
<dd><p><em>Size option for display-table report</em></p>
<p><code>scalar&lt;character&gt;</code> // <em>default:</em> <code>"standard"</code></p>
<p>The size of the display table, which can be either <code>"standard"</code> (the
default) or <code>"small"</code>. This only applies to a display table (where
<code>display_table = TRUE</code>).</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p><em>Title customization options</em></p>
<p><code>scalar&lt;character&gt;</code> // <em>default:</em> <code>":default:"</code></p>
<p>Options for customizing the title of the report. The default is the keyword
<code>":default:"</code> which produces generic title text that refers to the
<strong>pointblank</strong> package in the language governed by the <code>lang</code> option.
Another keyword option is <code>":tbl_name:"</code>, and that presents the name of the
table as the title for the report. If no title is wanted, then the
<code>":none:"</code> keyword option can be used. Aside from keyword options, text can
be provided for the title and <code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue::glue()</a></code> calls can be used to construct
the text string. If providing text, it will be interpreted as Markdown text
and transformed internally to HTML. To circumvent such a transformation,
use text in <code><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I()</a></code> to explicitly state that the supplied text should not be
transformed.</p></dd>


<dt id="arg-lang">lang<a class="anchor" aria-label="anchor" href="#arg-lang"></a></dt>
<dd><p><em>Reporting language</em></p>
<p><code>scalar&lt;character&gt;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)</p>
<p>The language to use for automatic creation of briefs (short descriptions
for each validation step) and for the <em>agent report</em> (a summary table that
provides the validation plan and the results from the interrogation. By
default, <code>NULL</code> will create English (<code>"en"</code>) text. Other options include
French (<code>"fr"</code>), German (<code>"de"</code>), Italian (<code>"it"</code>), Spanish (<code>"es"</code>),
Portuguese (<code>"pt"</code>), Turkish (<code>"tr"</code>), Chinese (<code>"zh"</code>), Russian (<code>"ru"</code>),
Polish (<code>"pl"</code>), Danish (<code>"da"</code>), Swedish (<code>"sv"</code>), and Dutch (<code>"nl"</code>).
This <code>lang</code> option will override any previously set language setting (e.g.,
by the <code><a href="create_agent.html">create_agent()</a></code> call).</p></dd>


<dt id="arg-locale">locale<a class="anchor" aria-label="anchor" href="#arg-locale"></a></dt>
<dd><p><em>Locale for value formatting</em></p>
<p><code>scalar&lt;character&gt;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)</p>
<p>An optional locale ID to use for formatting values in the
<em>agent report</em> summary table according the locale's rules. Examples include
<code>"en_US"</code> for English (United States) and <code>"fr_FR"</code> for French (France);
more simply, this can be a language identifier without a country
designation, like <code>"es"</code> for Spanish (Spain, same as <code>"es_ES"</code>). This
<code>locale</code> option will override any previously set locale value (e.g., by the
<code><a href="create_agent.html">create_agent()</a></code> call).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>ptblank_agent_report</code> object if <code>display_table = TRUE</code> or a tibble
if <code>display_table = FALSE</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h2>



<p>For the example here, we'll use a simple table with a single numerical column
<code>a</code>.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">tbl</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tbl</span></span>
<span><span class="co">#&gt; # A tibble: 4 x 1</span></span>
<span><span class="co">#&gt;       a</span></span>
<span><span class="co">#&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1     5</span></span>
<span><span class="co">#&gt; 2     7</span></span>
<span><span class="co">#&gt; 3     8</span></span>
<span><span class="co">#&gt; 4     5</span></span></code></pre><p></p></div>
<p>Let's create an <em>agent</em> and validate that values in column <code>a</code> are always
greater than <code>4</code>.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">agent</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/create_agent.html">create_agent</a></span><span class="op">(</span></span>
<span>    tbl <span class="op">=</span> <span class="va">tbl</span>,</span>
<span>    tbl_name <span class="op">=</span> <span class="st">"small_table"</span>,</span>
<span>    label <span class="op">=</span> <span class="st">"An example."</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/col_vals_gt.html">col_vals_gt</a></span><span class="op">(</span>columns <span class="op">=</span> <span class="va">a</span>, value <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/interrogate.html">interrogate</a></span><span class="op">(</span><span class="op">)</span></span></code></pre><p></p></div>
<p>We can get a tibble-based report from the agent by using <code>get_agent_report()</code>
with <code>display_table = FALSE</code>.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">agent</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/get_agent_report.html">get_agent_report</a></span><span class="op">(</span>display_table <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="sourceCode"><pre><code><span><span class="co">## # A tibble: 1 × 14</span></span>
<span><span class="co">##       i type    columns values precon active eval  units n_pass</span></span>
<span><span class="co">##   &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;  &lt;lgl&gt;  &lt;chr&gt; &lt;dbl&gt;  &lt;dbl&gt;</span></span>
<span><span class="co">## 1     1 col_va… a       4      NA     TRUE   OK        4      4</span></span>
<span><span class="co">## # … with 5 more variables: f_pass &lt;dbl&gt;, W &lt;lgl&gt;, S &lt;lgl&gt;,</span></span>
<span><span class="co">## #   N &lt;lgl&gt;, extract &lt;int&gt;</span></span></code></pre></div>



<p>The full-featured display-table-based report can be viewed by printing the
<code>agent</code> object, but, we can get a <code>"ptblank_agent_report"</code> object returned to
us when using <code>display_table = TRUE</code> (the default for <code>get_agent_report</code>).</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">report</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_agent_report.html">get_agent_report</a></span><span class="op">(</span><span class="va">agent</span><span class="op">)</span></span>
<span></span>
<span><span class="va">report</span></span></code></pre><p></p></div>
<p><img src="https://raw.githubusercontent.com/rstudio/pointblank/main/images/man_get_agent_report_1.png" alt="This image was generated from the first code example in the `get_agent_report()` help file." style="width:100%;"></p>
<p>What can you do with the <code>report</code> object? Print it at will wherever, and, it
can serve as an input to the <code><a href="export_report.html">export_report()</a></code> function.</p>
<p>However, the better reason to use <code>get_agent_report()</code> over just printing the
agent for display-table purposes is to make use of the different display
options.</p>
<p>The agent report as a <strong>gt</strong> display table comes in two sizes: <code>"standard"</code>
(the default, 875px wide) and <code>"small"</code> (575px wide). Let's take a look at
the smaller-sized version of the report.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">small_report</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/get_agent_report.html">get_agent_report</a></span><span class="op">(</span></span>
<span>    agent <span class="op">=</span> <span class="va">agent</span>,</span>
<span>    size <span class="op">=</span> <span class="st">"small"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">small_report</span></span></code></pre><p></p></div>
<p><img src="https://raw.githubusercontent.com/rstudio/pointblank/main/images/man_get_agent_report_2.png" alt="This image was generated from the second code example in the `get_agent_report()` help file." style="width:100%;"></p>
<p>We can use our own title by supplying it to the <code>title</code> argument, or, use
a special keyword like <code>":tbl_name:"</code> to get the table name (set in the
<code><a href="create_agent.html">create_agent()</a></code> call) as the title.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">report_title</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_agent_report.html">get_agent_report</a></span><span class="op">(</span><span class="va">agent</span>, title <span class="op">=</span> <span class="st">":tbl_name:"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">report_title</span></span></code></pre><p></p></div>
<p><img src="https://raw.githubusercontent.com/rstudio/pointblank/main/images/man_get_agent_report_3.png" alt="This image was generated from the third code example in the `get_agent_report()` help file." style="width:100%;"></p>
<p>There are more options! You can change the language of the display table with
the <code>lang</code> argument (this overrides the language set in <code><a href="create_agent.html">create_agent()</a></code>),
validation steps can be rearranged using the <code>arrange_by</code> argument, and we
can also apply some filtering with the <code>keep</code> argument in
<code>get_agent_report()</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="function-id">Function ID<a class="anchor" aria-label="anchor" href="#function-id"></a></h2>


<p>6-2</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other Interrogate and Report:
<code><a href="interrogate.html">interrogate</a>()</code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Richard Iannone, Mauricio Vargas, June Choe.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

