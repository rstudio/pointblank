<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The create_agent() function creates an agent object, which is used in a
data quality reporting workflow. The overall aim of this workflow is to
generate useful reporting information for assessing the level of data quality
for the target table. We can supply as many validation functions as the user
wishes to write, thereby increasing the level of validation coverage for that
table. The agent assigned by the create_agent() call takes validation
functions (e.g., col_vals_between(), rows_distinct(), etc.), which
translate to discrete validation steps (each one is numbered and will later
provide its own set of results). This process is known as developing a
validation plan.
The validation functions, when called on an agent, are merely instructions
up to the point the interrogate() function is called. That kicks off the
process of the agent acting on the validation plan and getting results
for each step. Once the interrogation process is complete, we can say that
the agent has intel. Calling the agent itself will result in a reporting
table. This reporting of the interrogation can also be accessed with the
get_agent_report() function, where there are more reporting options."><title>Create a pointblank agent object — create_agent • pointblank</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Create a pointblank agent object — create_agent"><meta property="og:description" content="The create_agent() function creates an agent object, which is used in a
data quality reporting workflow. The overall aim of this workflow is to
generate useful reporting information for assessing the level of data quality
for the target table. We can supply as many validation functions as the user
wishes to write, thereby increasing the level of validation coverage for that
table. The agent assigned by the create_agent() call takes validation
functions (e.g., col_vals_between(), rows_distinct(), etc.), which
translate to discrete validation steps (each one is numbered and will later
provide its own set of results). This process is known as developing a
validation plan.
The validation functions, when called on an agent, are merely instructions
up to the point the interrogate() function is called. That kicks off the
process of the agent acting on the validation plan and getting results
for each step. Once the interrogation process is complete, we can say that
the agent has intel. Calling the agent itself will result in a reporting
table. This reporting of the interrogation can also be accessed with the
get_agent_report() function, where there are more reporting options."><meta property="og:image" content="https://rstudio.github.io/pointblank/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-default navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">pointblank</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.12.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Validation Workflows</h6>
    <a class="dropdown-item" href="../articles/validation_workflows.html">Overview</a>
    <a class="dropdown-item" href="../articles/VALID-I.html">VALID-I: Data Quality Reporting</a>
    <a class="dropdown-item" href="../articles/VALID-II.html">VALID-II: Pipeline Data Validation</a>
    <a class="dropdown-item" href="../articles/VALID-III.html">VALID-III: Expectations in Unit Tests</a>
    <a class="dropdown-item" href="../articles/VALID-IV.html">VALID-IV: Data Tests for Conditionals</a>
    <a class="dropdown-item" href="../articles/VALID-V.html">VALID-V: Table Scan</a>
    <a class="dropdown-item" href="../articles/VALID-VI.html">VALID-VI: R Markdown Document Validation</a>
    <h6 class="dropdown-header" data-toc-skip>Information Management</h6>
    <a class="dropdown-item" href="../articles/INFO-1.html">Intro to Information Management</a>
    <a class="dropdown-item" href="../articles/INFO-2.html">Advanced Information Management</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rstudio/pointblank/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Create a <strong>pointblank</strong> <em>agent</em> object</h1>
      <small class="dont-index">Source: <a href="https://github.com/rstudio/pointblank/blob/HEAD/R/create_agent.R" class="external-link"><code>R/create_agent.R</code></a></small>
      <div class="d-none name"><code>create_agent.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>create_agent()</code> function creates an <em>agent</em> object, which is used in a
<em>data quality reporting</em> workflow. The overall aim of this workflow is to
generate useful reporting information for assessing the level of data quality
for the target table. We can supply as many validation functions as the user
wishes to write, thereby increasing the level of validation coverage for that
table. The <em>agent</em> assigned by the <code>create_agent()</code> call takes validation
functions (e.g., <code><a href="col_vals_between.html">col_vals_between()</a></code>, <code><a href="rows_distinct.html">rows_distinct()</a></code>, etc.), which
translate to discrete validation steps (each one is numbered and will later
provide its own set of results). This process is known as developing a
<em>validation plan</em>.</p>
<p>The validation functions, when called on an <em>agent</em>, are merely instructions
up to the point the <code><a href="interrogate.html">interrogate()</a></code> function is called. That kicks off the
process of the <em>agent</em> acting on the <em>validation plan</em> and getting results
for each step. Once the interrogation process is complete, we can say that
the <em>agent</em> has intel. Calling the <em>agent</em> itself will result in a reporting
table. This reporting of the interrogation can also be accessed with the
<code><a href="get_agent_report.html">get_agent_report()</a></code> function, where there are more reporting options.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">create_agent</span><span class="op">(</span></span>
<span>  tbl <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  tbl_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  label <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  actions <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  end_fns <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  embed_report <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  lang <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  locale <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  read_fn <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>tbl</dt>
<dd><p><em>Table or expression for reading in one</em></p>
<p><code>obj:&lt;tbl_*&gt;|&lt;tbl reading expression&gt;</code> // <strong>required</strong></p>
<p>The input table. This can be a data frame, a tibble, a <code>tbl_dbi</code> object, or
a <code>tbl_spark</code> object. Alternatively, an expression can be supplied to serve
as instructions on how to retrieve the target table at interrogation-time.
There are two ways to specify an association to a target table: (1) as a
table-prep formula, which is a right-hand side (RHS) formula expression
(e.g., <code>~ { &lt;tbl reading code&gt;}</code>), or (2) as a function (e.g.,
<code>function() { &lt;tbl reading code&gt;}</code>).</p></dd>


<dt>tbl_name</dt>
<dd><p><em>A table name</em></p>
<p><code>scalar&lt;character&gt;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)</p>
<p>A optional name to assign to the input table object. If no value is
provided, a name will be generated based on whatever information is
available. This table name will be displayed in the header area of the
agent report generated by printing the <em>agent</em> or calling
<code><a href="get_agent_report.html">get_agent_report()</a></code>.</p></dd>


<dt>label</dt>
<dd><p><em>An optional label for the validation plan</em></p>
<p><code>scalar&lt;character&gt;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)</p>
<p>An optional label for the validation plan. If no value is provided, a label
will be generated based on the current system time. Markdown can be used
here to make the label more visually appealing (it will appear in the
header area of the agent report).</p></dd>


<dt>actions</dt>
<dd><p><em>Default thresholds and actions for different states</em></p>
<p><code>obj:&lt;action_levels&gt;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)</p>
<p>A option to include a list with threshold levels so that all validation
steps can react accordingly when exceeding the set levels. This is to be
created with the <code><a href="action_levels.html">action_levels()</a></code> helper function. Should an action levels
list be used for a specific validation step, the default set specified here
will be overridden.</p></dd>


<dt>end_fns</dt>
<dd><p><em>Functions to execute after interrogation</em></p>
<p><code>list</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)</p>
<p>A list of expressions that should be invoked at the end of an
interrogation. Each expression should be in the form of a one-sided R
formula, so overall this construction should be used: <code>end_fns = list(~ &lt;R statements&gt;, ~ &lt;R statements&gt;, ...)</code>. An example of a function included in
<strong>pointblank</strong> that can be sensibly used here is <code><a href="email_blast.html">email_blast()</a></code>, which
sends an email of the validation report (based on a sending condition).</p></dd>


<dt>embed_report</dt>
<dd><p><em>Embed the validation report into agent object?</em></p>
<p><code>scalar&lt;logical&gt;</code> // <em>default:</em> <code>FALSE</code></p>
<p>An option to embed a <strong>gt</strong>-based validation report into the
<code>ptblank_agent</code> object. If <code>FALSE</code> then the table object will be not
generated and available with the <em>agent</em> upon returning from the
interrogation.</p></dd>


<dt>lang</dt>
<dd><p><em>Reporting language</em></p>
<p><code>scalar&lt;character&gt;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)</p>
<p>The language to use for automatic creation of briefs (short descriptions
for each validation step) and for the <em>agent report</em> (a summary table that
provides the validation plan and the results from the interrogation. By
default, <code>NULL</code> will create English (<code>"en"</code>) text. Other options include
French (<code>"fr"</code>), German (<code>"de"</code>), Italian (<code>"it"</code>), Spanish (<code>"es"</code>),
Portuguese (<code>"pt"</code>), Turkish (<code>"tr"</code>), Chinese (<code>"zh"</code>), Russian (<code>"ru"</code>),
Polish (<code>"pl"</code>), Danish (<code>"da"</code>), Swedish (<code>"sv"</code>), and Dutch (<code>"nl"</code>).</p></dd>


<dt>locale</dt>
<dd><p><em>Locale for value formatting within reports</em></p>
<p><code>scalar&lt;character&gt;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)</p>
<p>An optional locale ID to use for formatting values in the <em>agent report</em>
summary table according the locale's rules. Examples include <code>"en_US"</code> for
English (United States) and <code>"fr_FR"</code> for French (France); more simply,
this can be a language identifier without a country designation, like "es"
for Spanish (Spain, same as <code>"es_ES"</code>).</p></dd>


<dt>read_fn</dt>
<dd><p><em><a href="https://rdrr.io/r/base/Deprecated.html" class="external-link">Deprecated</a> Table reading function</em></p>
<p><code>function</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)</p>
<p>The <code>read_fn</code> argument is deprecated. Instead, supply a table-prep formula
or function to <code>tbl</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A <code>ptblank_agent</code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="supported-input-tables">Supported Input Tables<a class="anchor" aria-label="anchor" href="#supported-input-tables"></a></h2>
    


<p>The types of data tables that are officially supported are:</p><ul><li><p>data frames (<code>data.frame</code>) and tibbles (<code>tbl_df</code>)</p></li>
<li><p>Spark DataFrames (<code>tbl_spark</code>)</p></li>
<li><p>the following database tables (<code>tbl_dbi</code>):</p><ul><li><p><em>PostgreSQL</em> tables (using the <code><a href="https://rpostgres.r-dbi.org/reference/Postgres.html" class="external-link">RPostgres::Postgres()</a></code> as driver)</p></li>
<li><p><em>MySQL</em> tables (with <code><a href="https://rdrr.io/pkg/RMySQL/man/MySQLDriver-class.html" class="external-link">RMySQL::MySQL()</a></code>)</p></li>
<li><p><em>Microsoft SQL Server</em> tables (via <strong>odbc</strong>)</p></li>
<li><p><em>BigQuery</em> tables (using <code><a href="https://bigrquery.r-dbi.org/reference/bigquery.html" class="external-link">bigrquery::bigquery()</a></code>)</p></li>
<li><p><em>DuckDB</em> tables (through <code><a href="https://rdrr.io/pkg/duckdb/man/duckdb.html" class="external-link">duckdb::duckdb()</a></code>)</p></li>
<li><p><em>SQLite</em> (with <code><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">RSQLite::SQLite()</a></code>)</p></li>
</ul></li>
</ul><p>Other database tables may work to varying degrees but they haven't been
formally tested (so be mindful of this when using unsupported backends with
<strong>pointblank</strong>).</p>
    </div>
    <div class="section level2">
    <h2 id="the-use-of-an-agent-for-validation-is-just-one-option-of-several">The Use of an Agent for Validation Is Just One Option of Several<a class="anchor" aria-label="anchor" href="#the-use-of-an-agent-for-validation-is-just-one-option-of-several"></a></h2>
    


<p>There are a few validation workflows and using an <em>agent</em> is the one that
provides the most options. It is probably the best choice for assessing the
state of data quality since it yields detailed reporting, has options for
further exploration of root causes, and allows for granular definition of
actions to be taken based on the severity of validation failures (e.g.,
emailing, logging, etc.).</p>
<p>Different situations, however, call for different validation workflows. You
use validation functions (the same ones you would with an <em>agent</em>) directly
on the data. This acts as a sort of data filter in that the input table will
become output data (without modification), but there may be warnings, errors,
or other side effects that you can define if validation fails. Basically,
instead of this</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="fu"><a href="../reference/create_agent.html">create_agent</a></span><span class="op">(</span>tbl <span class="op">=</span> <span class="va">small_table</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/rows_distinct.html">rows_distinct</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/interrogate.html">interrogate</a></span><span class="op">(</span><span class="op">)</span></span></code></pre><p></p></div>
<p>you would use this:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">small_table</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/rows_distinct.html">rows_distinct</a></span><span class="op">(</span><span class="op">)</span></span></code></pre><p></p></div>
<p>This results in an error (with the default failure threshold settings),
displaying the reason for the error in the console. Notably, the data is not
passed though.</p>
<p>We can use variants of the validation functions, the <em>test</em> (<code>test_*()</code>) and
<em>expectation</em> (<code>expect_*()</code>) versions, directly on the data for different
workflows. The first returns to us a logical value. So this</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">small_table</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/rows_distinct.html">test_rows_distinct</a></span><span class="op">(</span><span class="op">)</span></span></code></pre><p></p></div>
<p>returns <code>FALSE</code> instead of an error.</p>
<p>In a unit testing scenario, we can use <em>expectation</em> functions exactly as we
would with <strong>testthat</strong>'s library of <code>expect_*()</code> functions:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">small_table</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/rows_distinct.html">expect_rows_distinct</a></span><span class="op">(</span><span class="op">)</span></span></code></pre><p></p></div>
<p>This test of <code>small_table</code> would be counted as a failure.</p>
    </div>
    <div class="section level2">
    <h2 id="the-agent-report">The Agent Report<a class="anchor" aria-label="anchor" href="#the-agent-report"></a></h2>
    


<p>While printing an <em>agent</em> (a <code>ptblank_agent</code> object) will display its
reporting in the Viewer, we can alternatively use the <code><a href="get_agent_report.html">get_agent_report()</a></code> to
take advantage of other options (e.g., overriding the language, modifying the
arrangement of report rows, etc.), and to return the report as independent
objects. For example, with the <code>display_table = TRUE</code> option (the default),
<code><a href="get_agent_report.html">get_agent_report()</a></code> will return a <code>ptblank_agent_report</code> object. If
<code>display_table</code> is set to <code>FALSE</code>, we'll get a data frame back instead.</p>
<p>Exporting the report as standalone HTML file can be accomplished by using the
<code><a href="export_report.html">export_report()</a></code> function. This function can accept either the
<code>ptblank_agent</code> object or the <code>ptblank_agent_report</code> as input. Each HTML
document written to disk in this way is self-contained and easily viewable in
a web browser.</p>
    </div>
    <div class="section level2">
    <h2 id="data-products-obtained-from-an-agent">Data Products Obtained from an Agent<a class="anchor" aria-label="anchor" href="#data-products-obtained-from-an-agent"></a></h2>
    


<p>A very detailed list object, known as an x-list, can be obtained by using the
<code><a href="get_agent_x_list.html">get_agent_x_list()</a></code> function on the <em>agent</em>. This font of information can be
taken as a whole, or, broken down by the step number (with the <code>i</code> argument).</p>
<p>Sometimes it is useful to see which rows were the failing ones. By using the
<code><a href="get_data_extracts.html">get_data_extracts()</a></code> function on the <em>agent</em>, we either get a list of
tibbles (for those steps that have data extracts) or one tibble if the
validation step is specified with the <code>i</code> argument.</p>
<p>The target data can be split into pieces that represent the 'pass' and 'fail'
portions with the <code><a href="get_sundered_data.html">get_sundered_data()</a></code> function. A primary requirement is an
agent that has had <code><a href="interrogate.html">interrogate()</a></code> called on it. In addition, the validation
steps considered for this data splitting need to be those that operate on
values down a column (e.g., the <code>col_vals_*()</code> functions or <code><a href="conjointly.html">conjointly()</a></code>).
With these in-consideration validation steps, rows with no failing test units
across all validation steps comprise the 'pass' data piece, and rows with at
least one failing test unit across the same series of validations constitute
the 'fail' piece.</p>
<p>If we just need to know whether all validations completely passed (i.e., all
steps had no failing test units), the <code><a href="all_passed.html">all_passed()</a></code> function could be used
on the <em>agent</em>. However, in practice, it's not often the case that all data
validation steps are free from any failing units.</p>
    </div>
    <div class="section level2">
    <h2 id="yaml">YAML<a class="anchor" aria-label="anchor" href="#yaml"></a></h2>
    


<p>A <strong>pointblank</strong> agent can be written to YAML with <code><a href="yaml_write.html">yaml_write()</a></code> and the
resulting YAML can be used to regenerate an agent (with <code><a href="yaml_read_agent.html">yaml_read_agent()</a></code>)
or interrogate the target table (via <code><a href="yaml_agent_interrogate.html">yaml_agent_interrogate()</a></code>). Here is an
example of how a complex call of <code>create_agent()</code> is expressed in R code and
in the corresponding YAML representation.</p>
<p>R statement:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="fu"><a href="../reference/create_agent.html">create_agent</a></span><span class="op">(</span></span>
<span>  tbl <span class="op">=</span> <span class="op">~</span> <span class="va">small_table</span>,</span>
<span>  tbl_name <span class="op">=</span> <span class="st">"small_table"</span>,</span>
<span>  label <span class="op">=</span> <span class="st">"An example."</span>,</span>
<span>  actions <span class="op">=</span> <span class="fu"><a href="../reference/action_levels.html">action_levels</a></span><span class="op">(</span></span>
<span>    warn_at <span class="op">=</span> <span class="fl">0.10</span>,</span>
<span>    stop_at <span class="op">=</span> <span class="fl">0.25</span>,</span>
<span>    notify_at <span class="op">=</span> <span class="fl">0.35</span>,</span>
<span>    fns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>notify <span class="op">=</span> <span class="op">~</span> <span class="fu"><a href="../reference/email_blast.html">email_blast</a></span><span class="op">(</span></span>
<span>      <span class="va">x</span>,</span>
<span>      to <span class="op">=</span> <span class="st">"joe_public@example.com"</span>,</span>
<span>      from <span class="op">=</span> <span class="st">"pb_notif@example.com"</span>,</span>
<span>      msg_subject <span class="op">=</span> <span class="st">"Table Validation"</span>,</span>
<span>      credentials <span class="op">=</span> <span class="fu">blastula</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/blastula/reference/credential_helpers.html" class="external-link">creds_key</a></span><span class="op">(</span></span>
<span>        id <span class="op">=</span> <span class="st">"smtp2go"</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span>, </span>
<span>  end_fns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="op">~</span> <span class="fu">beepr</span><span class="fu">::</span><span class="fu">beep</span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>,</span>
<span>    <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.sleep.html" class="external-link">Sys.sleep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="op">)</span>, </span>
<span>  embed_report <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  lang <span class="op">=</span> <span class="st">"fr"</span>, </span>
<span>  locale <span class="op">=</span> <span class="st">"fr_CA"</span></span>
<span><span class="op">)</span></span></code></pre><p></p></div>
<p>YAML representation:</p>
<p></p><div class="sourceCode yaml"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">type</span><span class="kw">:</span><span class="at"> agent</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">tbl</span><span class="kw">:</span><span class="at"> ~small_table</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">tbl_name</span><span class="kw">:</span><span class="at"> small_table</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">label</span><span class="kw">:</span><span class="at"> An example.</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">lang</span><span class="kw">:</span><span class="at"> fr</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="fu">locale</span><span class="kw">:</span><span class="at"> fr_CA</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="fu">actions</span><span class="kw">:</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="at">  </span><span class="fu">warn_fraction</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.1</span></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="at">  </span><span class="fu">stop_fraction</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.25</span></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="at">  </span><span class="fu">notify_fraction</span><span class="kw">:</span><span class="at"> </span><span class="fl">0.35</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="at">  </span><span class="fu">fns</span><span class="kw">:</span></span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a><span class="at">    </span><span class="fu">notify</span><span class="kw">:</span><span class="at"> ~email_blast(x, to = "joe_public@example.com",</span></span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a><span class="at">      from = "pb_notif@example.com",</span></span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a><span class="at">      msg_subject = "Table Validation",</span></span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a><span class="at">      credentials = blastula::creds_key(id = "smtp2go"))</span></span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a><span class="fu">end_fns</span><span class="kw">:</span></span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a><span class="kw">-</span><span class="at"> ~beepr::beep(2)</span></span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a><span class="kw">-</span><span class="at"> ~Sys.sleep(1)</span></span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a><span class="fu">embed_report</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a><span class="fu">steps</span><span class="kw">:</span><span class="at"> </span><span class="kw">[]</span></span></code></pre><p></p></div>
<p>In practice, this YAML file will be shorter since arguments with default
values won't be written to YAML when using <code><a href="yaml_write.html">yaml_write()</a></code> (though it is
acceptable to include them with their default when generating the YAML by
other means). The only requirement for writing the YAML representation of an
<em>agent</em> is having <code>tbl</code> specified as table-prep formula.</p>
<p>What typically follows this chunk of YAML is a <code>steps</code> part, and that
corresponds to the addition of validation steps via validation functions.
Help articles for each validation function have a <em>YAML</em> section that
describes how a given validation function is translated to YAML.</p>
<p>Should you need to preview the transformation of an <em>agent</em> to YAML (without
any committing anything to disk), use the <code><a href="yaml_agent_string.html">yaml_agent_string()</a></code> function. If
you already have a <code>.yml</code> file that holds an <em>agent</em>, you can get a glimpse
of the R expressions that are used to regenerate that agent with
<code><a href="yaml_agent_show_exprs.html">yaml_agent_show_exprs()</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="writing-an-agent-to-disk">Writing an Agent to Disk<a class="anchor" aria-label="anchor" href="#writing-an-agent-to-disk"></a></h2>
    


<p>An <em>agent</em> object can be written to disk with the <code><a href="x_write_disk.html">x_write_disk()</a></code> function.
This can be useful for keeping a history of validations and generating views
of data quality over time. Agents are stored in the serialized RDS format and
can be easily retrieved with the <code><a href="x_read_disk.html">x_read_disk()</a></code> function.</p>
<p>It's recommended that table-prep formulas are supplied to the <code>tbl</code>
argument of <code>create_agent()</code>. In this way, when an <em>agent</em> is read from disk
through <code><a href="x_read_disk.html">x_read_disk()</a></code>, it can be reused to access the target table (which
may change, hence the need to use an expression for this).</p>
    </div>
    <div class="section level2">
    <h2 id="combining-several-agents-in-a-multiagent-object">Combining Several Agents in a <em>multiagent</em> Object<a class="anchor" aria-label="anchor" href="#combining-several-agents-in-a-multiagent-object"></a></h2>
    


<p>Multiple <em>agent</em> objects can be part of a <em>multiagent</em> object, and two
functions can be used for this: <code><a href="create_multiagent.html">create_multiagent()</a></code> and
<code><a href="read_disk_multiagent.html">read_disk_multiagent()</a></code>. By gathering multiple agents that have performed
interrogations in the past, we can get a <em>multiagent</em> report showing how data
quality evolved over time. This use case is interesting for data quality
monitoring and management, and, the reporting (which can be customized with
<code><a href="get_multiagent_report.html">get_multiagent_report()</a></code>) is robust against changes in validation steps for
a given target table.</p>
    </div>
    <div class="section level2">
    <h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h2>
    

<div class="section">
<h3 id="creating-an-agent-adding-a-validation-plan-and-interrogating">Creating an agent, adding a validation plan, and interrogating<a class="anchor" aria-label="anchor" href="#creating-an-agent-adding-a-validation-plan-and-interrogating"></a></h3>


<p>Let's walk through a data quality analysis of an extremely small table. It's
actually called <code>small_table</code> and we can find it as a dataset in this
package.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">small_table</span></span>
<span><span class="co">#&gt; # A tibble: 13 x 8</span></span>
<span><span class="co">#&gt;    date_time           date           a b             c      d e     f    </span></span>
<span><span class="co">#&gt;    &lt;dttm&gt;              &lt;date&gt;     &lt;int&gt; &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt;</span></span>
<span><span class="co">#&gt;  1 2016-01-04 11:00:00 2016-01-04     2 1-bcd-345     3  3423. TRUE  high </span></span>
<span><span class="co">#&gt;  2 2016-01-04 00:32:00 2016-01-04     3 5-egh-163     8 10000. TRUE  low  </span></span>
<span><span class="co">#&gt;  3 2016-01-05 13:32:00 2016-01-05     6 8-kdg-938     3  2343. TRUE  high </span></span>
<span><span class="co">#&gt;  4 2016-01-06 17:23:00 2016-01-06     2 5-jdo-903    NA  3892. FALSE mid  </span></span>
<span><span class="co">#&gt;  5 2016-01-09 12:36:00 2016-01-09     8 3-ldm-038     7   284. TRUE  low  </span></span>
<span><span class="co">#&gt;  6 2016-01-11 06:15:00 2016-01-11     4 2-dhe-923     4  3291. TRUE  mid  </span></span>
<span><span class="co">#&gt;  7 2016-01-15 18:46:00 2016-01-15     7 1-knw-093     3   843. TRUE  high </span></span>
<span><span class="co">#&gt;  8 2016-01-17 11:27:00 2016-01-17     4 5-boe-639     2  1036. FALSE low  </span></span>
<span><span class="co">#&gt;  9 2016-01-20 04:30:00 2016-01-20     3 5-bce-642     9   838. FALSE high </span></span>
<span><span class="co">#&gt; 10 2016-01-20 04:30:00 2016-01-20     3 5-bce-642     9   838. FALSE high </span></span>
<span><span class="co">#&gt; 11 2016-01-26 20:07:00 2016-01-26     4 2-dmx-010     7   834. TRUE  low  </span></span>
<span><span class="co">#&gt; 12 2016-01-28 02:51:00 2016-01-28     2 7-dmx-010     8   108. FALSE low  </span></span>
<span><span class="co">#&gt; 13 2016-01-30 11:23:00 2016-01-30     1 3-dka-303    NA  2230. TRUE  high</span></span></code></pre><p></p></div>
<p>We ought to think about what's tolerable in terms of data quality so let's
designate proportional failure thresholds to the <code>warn</code>, <code>stop</code>, and <code>notify</code>
states using <code><a href="action_levels.html">action_levels()</a></code>.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">al</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="../reference/action_levels.html">action_levels</a></span><span class="op">(</span></span>
<span>      warn_at <span class="op">=</span> <span class="fl">0.10</span>,</span>
<span>      stop_at <span class="op">=</span> <span class="fl">0.25</span>,</span>
<span>    notify_at <span class="op">=</span> <span class="fl">0.35</span></span>
<span>  <span class="op">)</span></span></code></pre><p></p></div>
<p>Now create a pointblank <code>agent</code> object and give it the <code>al</code> object (which
serves as a default for all validation steps which can be overridden). The
static thresholds provided by <code>al</code> will make the reporting a bit more useful.
We also provide a target table and we'll use <code><a href="small_table.html">pointblank::small_table</a></code>.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">agent</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="../reference/create_agent.html">create_agent</a></span><span class="op">(</span></span>
<span>    tbl <span class="op">=</span> <span class="fu">pointblank</span><span class="fu">::</span><span class="va"><a href="../reference/small_table.html">small_table</a></span>,</span>
<span>    tbl_name <span class="op">=</span> <span class="st">"small_table"</span>,</span>
<span>    label <span class="op">=</span> <span class="st">"`create_agent()` example."</span>,</span>
<span>    actions <span class="op">=</span> <span class="va">al</span></span>
<span>  <span class="op">)</span></span></code></pre><p></p></div>
<p>Then, as with any <code>agent</code> object, we can add steps to the validation plan by
using as many validation functions as we want. then, we use <code><a href="interrogate.html">interrogate()</a></code>
to actually perform the validations and gather intel.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">agent</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">agent</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/col_exists.html">col_exists</a></span><span class="op">(</span>columns <span class="op">=</span> <span class="va">date</span>, <span class="va">date_time</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/col_vals_regex.html">col_vals_regex</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">b</span>,</span>
<span>    regex <span class="op">=</span> <span class="st">"[0-9]-[a-z]{3}-[0-9]{3}"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/rows_distinct.html">rows_distinct</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/col_vals_gt.html">col_vals_gt</a></span><span class="op">(</span>columns <span class="op">=</span> <span class="va">d</span>, value <span class="op">=</span> <span class="fl">100</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/col_vals_lte.html">col_vals_lte</a></span><span class="op">(</span>columns <span class="op">=</span> <span class="va">c</span>, value <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/col_vals_between.html">col_vals_between</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">c</span>,</span>
<span>    left <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span>, right <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span>,</span>
<span>    na_pass <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/interrogate.html">interrogate</a></span><span class="op">(</span><span class="op">)</span></span></code></pre><p></p></div>
<p>The <code>agent</code> object can be printed to see the validation report in the
Viewer.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">agent</span></span></code></pre><p></p></div>
<p><img src="https://raw.githubusercontent.com/rstudio/pointblank/main/images/man_create_agent_1.png" alt="This image was generated from the first code example in the `create_agent()` help file." style="width:100%;"></p>
<p>If we want to make use of more report display options, we can alternatively
use the <code><a href="get_agent_report.html">get_agent_report()</a></code> function.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">report</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/get_agent_report.html">get_agent_report</a></span><span class="op">(</span></span>
<span>    agent <span class="op">=</span> <span class="va">agent</span>,</span>
<span>    arrange_by <span class="op">=</span> <span class="st">"severity"</span>,</span>
<span>    title <span class="op">=</span> <span class="st">"Validation of `small_table`"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">report</span></span></code></pre><p></p></div>
<p><img src="https://raw.githubusercontent.com/rstudio/pointblank/main/images/man_create_agent_2.png" alt="This image was generated from the second code example in the `create_agent()` help file." style="width:100%;"></p>
</div>

<div class="section">
<h3 id="post-interrogation-operations">Post-interrogation operations<a class="anchor" aria-label="anchor" href="#post-interrogation-operations"></a></h3>


<p>We can use the <code>agent</code> object with a variety of functions to get at more
of the information collected during interrogation.</p>
<p>We can see from the validation report that Step 4 (which used the
<code><a href="rows_distinct.html">rows_distinct()</a></code> validation function) had two test units, corresponding to
duplicated rows, that failed. We can see those rows with
<code><a href="get_data_extracts.html">get_data_extracts()</a></code>.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">agent</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/get_data_extracts.html">get_data_extracts</a></span><span class="op">(</span>i <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code></pre><p></p></div>
<div class="sourceCode"><pre><code><span><span class="co">## # A tibble: 2 × 8</span></span>
<span><span class="co">##   date_time           date           a b            c     d e     f    </span></span>
<span><span class="co">##   &lt;dttm&gt;              &lt;date&gt;     &lt;int&gt; &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt;</span></span>
<span><span class="co">## 1 2016-01-20 04:30:00 2016-01-20     3 5-bce-6…     9  838. FALSE high </span></span>
<span><span class="co">## 2 2016-01-20 04:30:00 2016-01-20     3 5-bce-6…     9  838. FALSE high</span></span></code></pre></div>



<p>We can get an x-list for the entire validation process (7 steps), or, just
for the 4th step with <code><a href="get_agent_x_list.html">get_agent_x_list()</a></code>.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">xl_step_4</span> <span class="op">&lt;-</span> <span class="va">agent</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/get_agent_x_list.html">get_agent_x_list</a></span><span class="op">(</span>i <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code></pre><p></p></div>
<p>And then we can peruse the different parts of the list. Let's get the
fraction of test units that failed.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="va">xl_step_4</span><span class="op">$</span><span class="va">f_failed</span></span></code></pre><p></p></div>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co">#&gt; [1] 0.15385</span></span></code></pre><p></p></div>
<p>An x-list not specific to any step will have way more information and a
slightly different structure. See <code><a href="get_agent_x_list.html">help(get_agent_x_list)</a></code> for more info.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="function-id">Function ID<a class="anchor" aria-label="anchor" href="#function-id"></a></h2>
    

<p>1-2</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other Planning and Prep: 
<code><a href="action_levels.html">action_levels</a>()</code>,
<code><a href="create_informant.html">create_informant</a>()</code>,
<code><a href="db_tbl.html">db_tbl</a>()</code>,
<code><a href="draft_validation.html">draft_validation</a>()</code>,
<code><a href="file_tbl.html">file_tbl</a>()</code>,
<code><a href="scan_data.html">scan_data</a>()</code>,
<code><a href="tbl_get.html">tbl_get</a>()</code>,
<code><a href="tbl_source.html">tbl_source</a>()</code>,
<code><a href="tbl_store.html">tbl_store</a>()</code>,
<code><a href="validate_rmd.html">validate_rmd</a>()</code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Richard Iannone, Mauricio Vargas, June Choe.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

