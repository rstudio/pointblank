<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Table Transformer: slice a table with a slice point on a time column — tt_time_slice • pointblank</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Table Transformer: slice a table with a slice point on a time column — tt_time_slice" />
<meta property="og:description" content="With any table object containing date, date-time columns, or a mixture
thereof, any one of those columns can be used to effectively slice the data
table in two with a slice_point: and you get to choose which of those
slices you want to keep. The slice point can be defined in several ways. One
method involves using a decimal value between 0 and 1, which defines the
slice point as the time instant somewhere between the earliest time value (at
0) and the latest time value (at 1). Another way of defining the slice
point is by supplying a time value, and the following input types are
accepted: (1) an ISO 8601 formatted time string (as a date or a date-time),
(2) a POSIXct time, or (3) a Date object." />
<meta property="og:image" content="/logo.svg" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pointblank</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Development version">0.9.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Validation Workflows</li>
    <li>
      <a href="../articles/validation_workflows.html">Overview</a>
    </li>
    <li>
      <a href="../articles/VALID-I.html">VALID-I: Data Quality Reporting</a>
    </li>
    <li>
      <a href="../articles/VALID-II.html">VALID-II: Pipeline Data Validation</a>
    </li>
    <li>
      <a href="../articles/VALID-III.html">VALID-III: Expectations in Unit Tests</a>
    </li>
    <li>
      <a href="../articles/VALID-IV.html">VALID-IV: Data Tests for Conditionals</a>
    </li>
    <li>
      <a href="../articles/VALID-V.html">VALID-V: Table Scan</a>
    </li>
    <li>
      <a href="../articles/VALID-VI.html">VALID-VI: R Markdown Document Validation</a>
    </li>
    <li class="dropdown-header">Information Management</li>
    <li>
      <a href="../articles/INFO-1.html">Intro to Information Management</a>
    </li>
    <li>
      <a href="../articles/INFO-2.html">Advanced Information Management</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rich-iannone/pointblank/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Table Transformer: slice a table with a slice point on a time column</h1>
    <small class="dont-index">Source: <a href='https://github.com/rich-iannone/pointblank/blob/master/R/table_transformers.R'><code>R/table_transformers.R</code></a></small>
    <div class="hidden name"><code>tt_time_slice.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>With any table object containing date, date-time columns, or a mixture
thereof, any one of those columns can be used to effectively slice the data
table in two with a <code>slice_point</code>: and you get to choose which of those
slices you want to keep. The slice point can be defined in several ways. One
method involves using a decimal value between <code>0</code> and <code>1</code>, which defines the
slice point as the time instant somewhere between the earliest time value (at
<code>0</code>) and the latest time value (at <code>1</code>). Another way of defining the slice
point is by supplying a time value, and the following input types are
accepted: (1) an ISO 8601 formatted time string (as a date or a date-time),
(2) a <code>POSIXct</code> time, or (3) a <code>Date</code> object.</p>
    </div>

    <pre class="usage"><span class='fu'>tt_time_slice</span><span class='op'>(</span>
  <span class='va'>tbl</span>,
  time_column <span class='op'>=</span> <span class='cn'>NULL</span>,
  slice_point <span class='op'>=</span> <span class='fl'>0</span>,
  keep <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"left"</span>, <span class='st'>"right"</span><span class='op'>)</span>,
  arrange <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>tbl</th>
      <td><p>A table object to be used as input for the transformation. This
can be a data frame, a tibble, a <code>tbl_dbi</code> object, or a <code>tbl_spark</code> object.</p></td>
    </tr>
    <tr>
      <th>time_column</th>
      <td><p>The time-based column that will be used as a basis for the
slicing. If no time column is provided then the first one found will be
used.</p></td>
    </tr>
    <tr>
      <th>slice_point</th>
      <td><p>The location on the <code>time_column</code> where the slicing will
occur. This can either be a decimal value from <code>0</code> to <code>1</code>, an ISO 8601
formatted time string (as a date or a date-time), a <code>POSIXct</code> time, or a
<code>Date</code> object.</p></td>
    </tr>
    <tr>
      <th>keep</th>
      <td><p>Which slice should be kept? The <code>"left"</code> side (the default)
contains data rows that are earlier than the <code>slice_point</code> and the
<code>"right"</code> side will have rows that are later.</p></td>
    </tr>
    <tr>
      <th>arrange</th>
      <td><p>Should the slice be arranged by the <code>time_column</code>? This may be
useful if the input <code>tbl</code> isn't ordered by the <code>time_column</code>. By default,
this is <code>FALSE</code> and the original ordering is retained.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame, a tibble, a <code>tbl_dbi</code> object, or a <code>tbl_spark</code> object
depending on what was provided as <code>tbl</code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>There is the option to <code>arrange</code> the table by the date or date-time values in
the <code>time_column</code>. This ordering is always done in an ascending manner. Any
<code>NA</code>/<code>NULL</code> values in the <code>time_column</code> will result in the corresponding rows
can being removed (no matter which slice is retained).</p>
    <h2 class="hasAnchor" id="function-id"><a class="anchor" href="#function-id"></a>Function ID</h2>

    

<p>12-6</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other Table Transformers: 
<code><a href='get_tt_param.html'>get_tt_param</a>()</code>,
<code><a href='tt_string_info.html'>tt_string_info</a>()</code>,
<code><a href='tt_summary_stats.html'>tt_summary_stats</a>()</code>,
<code><a href='tt_tbl_colnames.html'>tt_tbl_colnames</a>()</code>,
<code><a href='tt_tbl_dims.html'>tt_tbl_dims</a>()</code>,
<code><a href='tt_time_shift.html'>tt_time_shift</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># With the `game_revenue` dataset,</span>
<span class='co'># which has entries in the first</span>
<span class='co'># 21 days of 2015, elect to get all</span>
<span class='co'># of the records where the `time`</span>
<span class='co'># values are strictly for the first</span>
<span class='co'># 15 days of 2015</span>
<span class='fu'>tt_time_slice</span><span class='op'>(</span>
  tbl <span class='op'>=</span> <span class='va'>game_revenue</span>,
  time_column <span class='op'>=</span> <span class='st'>"time"</span>,
  slice_point <span class='op'>=</span> <span class='st'>"2015-01-16"</span>
<span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 1,208 x 11</span>
#&gt;    player_id    session_id     session_start       time                item_type
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>        <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>          <span style='color: #949494; font-style: italic;'>&lt;dttm&gt;</span>              <span style='color: #949494; font-style: italic;'>&lt;dttm&gt;</span>              <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>    
#&gt; <span style='color: #BCBCBC;'> 1</span> ECPANOIXLZH… ECPANOIXLZHF8… 2015-01-01 <span style='color: #949494;'>01:31:03</span> 2015-01-01 <span style='color: #949494;'>01:31:27</span> iap      
#&gt; <span style='color: #BCBCBC;'> 2</span> ECPANOIXLZH… ECPANOIXLZHF8… 2015-01-01 <span style='color: #949494;'>01:31:03</span> 2015-01-01 <span style='color: #949494;'>01:36:57</span> iap      
#&gt; <span style='color: #BCBCBC;'> 3</span> ECPANOIXLZH… ECPANOIXLZHF8… 2015-01-01 <span style='color: #949494;'>01:31:03</span> 2015-01-01 <span style='color: #949494;'>01:37:45</span> iap      
#&gt; <span style='color: #BCBCBC;'> 4</span> ECPANOIXLZH… ECPANOIXLZHF8… 2015-01-01 <span style='color: #949494;'>01:31:03</span> 2015-01-01 <span style='color: #949494;'>01:42:33</span> ad       
#&gt; <span style='color: #BCBCBC;'> 5</span> ECPANOIXLZH… ECPANOIXLZHF8… 2015-01-01 <span style='color: #949494;'>11:50:02</span> 2015-01-01 <span style='color: #949494;'>11:55:20</span> ad       
#&gt; <span style='color: #BCBCBC;'> 6</span> ECPANOIXLZH… ECPANOIXLZHF8… 2015-01-01 <span style='color: #949494;'>11:50:02</span> 2015-01-01 <span style='color: #949494;'>12:08:56</span> ad       
#&gt; <span style='color: #BCBCBC;'> 7</span> ECPANOIXLZH… ECPANOIXLZHF8… 2015-01-01 <span style='color: #949494;'>11:50:02</span> 2015-01-01 <span style='color: #949494;'>12:14:08</span> ad       
#&gt; <span style='color: #BCBCBC;'> 8</span> ECPANOIXLZH… ECPANOIXLZHF8… 2015-01-01 <span style='color: #949494;'>11:50:02</span> 2015-01-01 <span style='color: #949494;'>12:21:44</span> ad       
#&gt; <span style='color: #BCBCBC;'> 9</span> ECPANOIXLZH… ECPANOIXLZHF8… 2015-01-01 <span style='color: #949494;'>11:50:02</span> 2015-01-01 <span style='color: #949494;'>12:24:20</span> ad       
#&gt; <span style='color: #BCBCBC;'>10</span> FXWUORGYNJA… FXWUORGYNJAE2… 2015-01-01 <span style='color: #949494;'>15:17:18</span> 2015-01-01 <span style='color: #949494;'>15:19:36</span> ad       
#&gt; <span style='color: #949494;'># … with 1,198 more rows, and 6 more variables: item_name &lt;chr&gt;,</span>
#&gt; <span style='color: #949494;'>#   item_revenue &lt;dbl&gt;, session_duration &lt;dbl&gt;, start_day &lt;date&gt;,</span>
#&gt; <span style='color: #949494;'>#   acquisition &lt;chr&gt;, country &lt;chr&gt;</span></div><div class='input'>
<span class='co'># Omit the first 25% of records</span>
<span class='co'># from `small_table` on the basis</span>
<span class='co'># of a timeline that begins at </span>
<span class='co'># `2016-01-04 11:00:00` and</span>
<span class='co'># ends at `2016-01-30 11:23:00`</span>
<span class='va'>small_table</span> <span class='op'>%&gt;%</span>
  <span class='fu'>tt_time_slice</span><span class='op'>(</span>
    slice_point <span class='op'>=</span> <span class='fl'>0.25</span>,
    keep <span class='op'>=</span> <span class='st'>"right"</span>
  <span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 8 x 8</span>
#&gt;   date_time           date           a b             c     d e     f    
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;dttm&gt;</span>              <span style='color: #949494; font-style: italic;'>&lt;date&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;dbl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;lgl&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>
#&gt; <span style='color: #BCBCBC;'>1</span> 2016-01-11 <span style='color: #949494;'>06:15:00</span> 2016-01-11     4 2-dhe-923     4 <span style='text-decoration: underline;'>3</span>291. TRUE  mid  
#&gt; <span style='color: #BCBCBC;'>2</span> 2016-01-15 <span style='color: #949494;'>18:46:00</span> 2016-01-15     7 1-knw-093     3  843. TRUE  high 
#&gt; <span style='color: #BCBCBC;'>3</span> 2016-01-17 <span style='color: #949494;'>11:27:00</span> 2016-01-17     4 5-boe-639     2 <span style='text-decoration: underline;'>1</span>036. FALSE low  
#&gt; <span style='color: #BCBCBC;'>4</span> 2016-01-20 <span style='color: #949494;'>04:30:00</span> 2016-01-20     3 5-bce-642     9  838. FALSE high 
#&gt; <span style='color: #BCBCBC;'>5</span> 2016-01-20 <span style='color: #949494;'>04:30:00</span> 2016-01-20     3 5-bce-642     9  838. FALSE high 
#&gt; <span style='color: #BCBCBC;'>6</span> 2016-01-26 <span style='color: #949494;'>20:07:00</span> 2016-01-26     4 2-dmx-010     7  834. TRUE  low  
#&gt; <span style='color: #BCBCBC;'>7</span> 2016-01-28 <span style='color: #949494;'>02:51:00</span> 2016-01-28     2 7-dmx-010     8  108. FALSE low  
#&gt; <span style='color: #BCBCBC;'>8</span> 2016-01-30 <span style='color: #949494;'>11:23:00</span> 2016-01-30     1 3-dka-303    <span style='color: #BB0000;'>NA</span> <span style='text-decoration: underline;'>2</span>230. TRUE  high </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Richard Iannone, Mauricio Vargas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


