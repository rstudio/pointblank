<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Draft a starter pointblank validation .R/.Rmd file with a data table — draft_validation • pointblank</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Draft a starter pointblank validation .R/.Rmd file with a data table — draft_validation"><meta name="description" content="Generate a draft validation plan in a new .R or .Rmd file using an input data
table. Using this workflow, the data table will be scanned to learn about its
column data and a set of starter validation steps (constituting a validation
plan) will be written. It's best to use a data extract that contains at least
1000 rows and is relatively free of spurious data.
Once in the file, it's possible to tweak the validation steps to better fit
the expectations to the particular domain. While column inference is used to
generate reasonable validation plans, it is difficult to infer the acceptable
values without domain expertise. However, using draft_validation() could
get you started on floor 10 of tackling data quality issues and is in any
case better than starting with an empty code editor view."><meta property="og:description" content="Generate a draft validation plan in a new .R or .Rmd file using an input data
table. Using this workflow, the data table will be scanned to learn about its
column data and a set of starter validation steps (constituting a validation
plan) will be written. It's best to use a data extract that contains at least
1000 rows and is relatively free of spurious data.
Once in the file, it's possible to tweak the validation steps to better fit
the expectations to the particular domain. While column inference is used to
generate reasonable validation plans, it is difficult to infer the acceptable
values without domain expertise. However, using draft_validation() could
get you started on floor 10 of tackling data quality issues and is in any
case better than starting with an empty code editor view."><meta property="og:image" content="https://rstudio.github.io/pointblank/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">pointblank</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.12.2.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/pointblank.html">Get Started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><h6 class="dropdown-header" data-toc-skip>Validation Workflows</h6></li>
    <li><a class="dropdown-item" href="../articles/validation_workflows.html">Overview</a></li>
    <li><a class="dropdown-item" href="../articles/VALID-I.html">VALID-I: Data Quality Reporting</a></li>
    <li><a class="dropdown-item" href="../articles/VALID-II.html">VALID-II: Pipeline Data Validation</a></li>
    <li><a class="dropdown-item" href="../articles/VALID-III.html">VALID-III: Expectations in Unit Tests</a></li>
    <li><a class="dropdown-item" href="../articles/VALID-IV.html">VALID-IV: Data Tests for Conditionals</a></li>
    <li><a class="dropdown-item" href="../articles/VALID-V.html">VALID-V: Table Scan</a></li>
    <li><a class="dropdown-item" href="../articles/VALID-VI.html">VALID-VI: R Markdown Document Validation</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Information Management</h6></li>
    <li><a class="dropdown-item" href="../articles/INFO-1.html">Intro to Information Management</a></li>
    <li><a class="dropdown-item" href="../articles/INFO-2.html">Advanced Information Management</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rstudio/pointblank/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Draft a starter <strong>pointblank</strong> validation .R/.Rmd file with a data table</h1>
      <small class="dont-index">Source: <a href="https://github.com/rstudio/pointblank/blob/main/R/draft_validation.R" class="external-link"><code>R/draft_validation.R</code></a></small>
      <div class="d-none name"><code>draft_validation.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generate a draft validation plan in a new .R or .Rmd file using an input data
table. Using this workflow, the data table will be scanned to learn about its
column data and a set of starter validation steps (constituting a validation
plan) will be written. It's best to use a data extract that contains at least
1000 rows and is relatively free of spurious data.</p>
<p>Once in the file, it's possible to tweak the validation steps to better fit
the expectations to the particular domain. While column inference is used to
generate reasonable validation plans, it is difficult to infer the acceptable
values without domain expertise. However, using <code>draft_validation()</code> could
get you started on floor 10 of tackling data quality issues and is in any
case better than starting with an empty code editor view.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">draft_validation</span><span class="op">(</span></span>
<span>  <span class="va">tbl</span>,</span>
<span>  tbl_name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  filename <span class="op">=</span> <span class="va">tbl_name</span>,</span>
<span>  path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lang <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  output_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"R"</span>, <span class="st">"Rmd"</span><span class="op">)</span>,</span>
<span>  add_comments <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-tbl">tbl<a class="anchor" aria-label="anchor" href="#arg-tbl"></a></dt>
<dd><p><em>A data table</em></p>
<p><code>obj:&lt;tbl_*&gt;</code> // <strong>required</strong></p>
<p>The input table. This can be a data frame, tibble, a <code>tbl_dbi</code> object, or a
<code>tbl_spark</code> object.</p></dd>


<dt id="arg-tbl-name">tbl_name<a class="anchor" aria-label="anchor" href="#arg-tbl-name"></a></dt>
<dd><p><em>A table name</em></p>
<p><code>scalar&lt;character&gt;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)</p>
<p>A optional name to assign to the input table object. If no value is
provided, a name will be generated based on whatever information is
available. This table name will be displayed in the header area of the
agent report generated by printing the <em>agent</em> or calling
<code><a href="get_agent_report.html">get_agent_report()</a></code>.</p></dd>


<dt id="arg-filename">filename<a class="anchor" aria-label="anchor" href="#arg-filename"></a></dt>
<dd><p><em>File name</em></p>
<p><code>scalar&lt;character&gt;</code> // <em>default:</em> <code>tbl_name</code></p>
<p>An optional name for the .R or .Rmd file. This should be a name without an
extension. By default, this is taken from the <code>tbl_name</code> but if nothing is
supplied for that, the name will contain the text <code>"draft_validation_"</code>
followed by the current date and time.</p></dd>


<dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p><em>File path</em></p>
<p><code>scalar&lt;character&gt;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)</p>
<p>A path can be specified here if there shouldn't be an attempt to place the
generated file in the working directory.</p></dd>


<dt id="arg-lang">lang<a class="anchor" aria-label="anchor" href="#arg-lang"></a></dt>
<dd><p><em>Commenting language</em></p>
<p><code>scalar&lt;character&gt;</code> // <em>default:</em> <code>NULL</code> (<code>optional</code>)</p>
<p>The language to use when creating comments for the automatically- generated
validation steps. By default, <code>NULL</code> will create English (<code>"en"</code>) text.
Other options include French (<code>"fr"</code>), German (<code>"de"</code>), Italian (<code>"it"</code>),
Spanish (<code>"es"</code>), Portuguese (<code>"pt"</code>), Turkish (<code>"tr"</code>), Chinese (<code>"zh"</code>),
Russian (<code>"ru"</code>), Polish (<code>"pl"</code>), Danish (<code>"da"</code>), Swedish (<code>"sv"</code>), and
Dutch (<code>"nl"</code>).</p></dd>


<dt id="arg-output-type">output_type<a class="anchor" aria-label="anchor" href="#arg-output-type"></a></dt>
<dd><p><em>The output file type</em></p>
<p><code>singl-kw:[R|Rmd]</code> // <em>default:</em> <code>"R"</code></p>
<p>An option for choosing what type of output should be generated. By default,
this is an .R script (<code>"R"</code>) but this could alternatively be an R Markdown
document (<code>"Rmd"</code>).</p></dd>


<dt id="arg-add-comments">add_comments<a class="anchor" aria-label="anchor" href="#arg-add-comments"></a></dt>
<dd><p><em>Add comments to the generated validation plan</em></p>
<p><code>scalar&lt;logical&gt;</code> // <em>default:</em> <code>TRUE</code></p>
<p>Should there be comments that explain the features of the validation plan
in the generated document?</p></dd>


<dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p><em>Overwrite a previous file of the same name</em></p>
<p><code>scalar&lt;logical&gt;</code> // <em>default:</em> <code>FALSE</code></p>
<p>Should a file of the same name be overwritten?</p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p><em>Inform (or not) upon file writing</em></p>
<p><code>scalar&lt;logical&gt;</code> // <em>default:</em> <code>FALSE</code></p>
<p>Should the function <em>not</em> inform when the file is written?</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Invisibly returns <code>TRUE</code> if the file has been written.</p>
    </div>
    <div class="section level2">
    <h2 id="supported-input-tables">Supported Input Tables<a class="anchor" aria-label="anchor" href="#supported-input-tables"></a></h2>



<p>The types of data tables that are officially supported are:</p><ul><li><p>data frames (<code>data.frame</code>) and tibbles (<code>tbl_df</code>)</p></li>
<li><p>Spark DataFrames (<code>tbl_spark</code>)</p></li>
<li><p>the following database tables (<code>tbl_dbi</code>):</p><ul><li><p><em>PostgreSQL</em> tables (using the <code><a href="https://rpostgres.r-dbi.org/reference/Postgres.html" class="external-link">RPostgres::Postgres()</a></code> as driver)</p></li>
<li><p><em>MySQL</em> tables (with <code><a href="https://r-dbi.r-universe.dev/RMySQL/reference/MySQLDriver-class.html" class="external-link">RMySQL::MySQL()</a></code>)</p></li>
<li><p><em>Microsoft SQL Server</em> tables (via <strong>odbc</strong>)</p></li>
<li><p><em>BigQuery</em> tables (using <code><a href="https://bigrquery.r-dbi.org/reference/bigquery.html" class="external-link">bigrquery::bigquery()</a></code>)</p></li>
<li><p><em>DuckDB</em> tables (through <code><a href="https://r.duckdb.org/reference/duckdb.html" class="external-link">duckdb::duckdb()</a></code>)</p></li>
<li><p><em>SQLite</em> (with <code><a href="https://rsqlite.r-dbi.org/reference/SQLite.html" class="external-link">RSQLite::SQLite()</a></code>)</p></li>
</ul></li>
</ul><p>Other database tables may work to varying degrees but they haven't been
formally tested (so be mindful of this when using unsupported backends with
<strong>pointblank</strong>).</p>
    </div>
    <div class="section level2">
    <h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a></h2>



<p>Let's draft a validation plan for the <code><a href="https://dplyr.tidyverse.org/reference/storms.html" class="external-link">dplyr::storms</a></code> dataset.</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="fu">dplyr</span><span class="fu">::</span><span class="va"><a href="https://dplyr.tidyverse.org/reference/storms.html" class="external-link">storms</a></span></span>
<span><span class="co">#&gt; # A tibble: 19,537 x 13</span></span>
<span><span class="co">#&gt;    name   year month   day  hour   lat  long status      category  wind pressure</span></span>
<span><span class="co">#&gt;    &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;fct&gt;          &lt;dbl&gt; &lt;int&gt;    &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1 Amy    1975     6    27     0  27.5 -79   tropical d~       NA    25     1013</span></span>
<span><span class="co">#&gt;  2 Amy    1975     6    27     6  28.5 -79   tropical d~       NA    25     1013</span></span>
<span><span class="co">#&gt;  3 Amy    1975     6    27    12  29.5 -79   tropical d~       NA    25     1013</span></span>
<span><span class="co">#&gt;  4 Amy    1975     6    27    18  30.5 -79   tropical d~       NA    25     1013</span></span>
<span><span class="co">#&gt;  5 Amy    1975     6    28     0  31.5 -78.8 tropical d~       NA    25     1012</span></span>
<span><span class="co">#&gt;  6 Amy    1975     6    28     6  32.4 -78.7 tropical d~       NA    25     1012</span></span>
<span><span class="co">#&gt;  7 Amy    1975     6    28    12  33.3 -78   tropical d~       NA    25     1011</span></span>
<span><span class="co">#&gt;  8 Amy    1975     6    28    18  34   -77   tropical d~       NA    30     1006</span></span>
<span><span class="co">#&gt;  9 Amy    1975     6    29     0  34.4 -75.8 tropical s~       NA    35     1004</span></span>
<span><span class="co">#&gt; 10 Amy    1975     6    29     6  34   -74.8 tropical s~       NA    40     1002</span></span>
<span><span class="co">#&gt; # i 19,527 more rows</span></span>
<span><span class="co">#&gt; # i 2 more variables: tropicalstorm_force_diameter &lt;int&gt;,</span></span>
<span><span class="co">#&gt; #   hurricane_force_diameter &lt;int&gt;</span></span></code></pre><p></p></div>
<p>The <code>draft_validation()</code> function creates an .R file by default. Using just
the defaults with <code><a href="https://dplyr.tidyverse.org/reference/storms.html" class="external-link">dplyr::storms</a></code> will yield the <code>"dplyr__storms.R"</code> file
in the working directory. Here are the contents of the file:</p>
<p></p><div class="sourceCode r"><pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/pointblank/">pointblank</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">agent</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/create_agent.html">create_agent</a></span><span class="op">(</span></span>
<span>    tbl <span class="op">=</span> <span class="op">~</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="va"><a href="https://dplyr.tidyverse.org/reference/storms.html" class="external-link">storms</a></span>,</span>
<span>    actions <span class="op">=</span> <span class="fu"><a href="../reference/action_levels.html">action_levels</a></span><span class="op">(</span></span>
<span>      warn_at <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>      stop_at <span class="op">=</span> <span class="fl">0.10</span></span>
<span>    <span class="op">)</span>,</span>
<span>    tbl_name <span class="op">=</span> <span class="st">"dplyr::storms"</span>,</span>
<span>    label <span class="op">=</span> <span class="st">"Validation plan generated by `draft_validation()`."</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that column `name` is of type: character</span></span>
<span>  <span class="fu"><a href="../reference/col_is_character.html">col_is_character</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">name</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that column `year` is of type: numeric</span></span>
<span>  <span class="fu"><a href="../reference/col_is_numeric.html">col_is_numeric</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">year</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that values in `year` should be between `1975` and `2020`</span></span>
<span>  <span class="fu"><a href="../reference/col_vals_between.html">col_vals_between</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">year</span>,</span>
<span>    left <span class="op">=</span> <span class="fl">1975</span>,</span>
<span>    right <span class="op">=</span> <span class="fl">2020</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that column `month` is of type: numeric</span></span>
<span>  <span class="fu"><a href="../reference/col_is_numeric.html">col_is_numeric</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">month</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that values in `month` should be between `1` and `12`</span></span>
<span>  <span class="fu"><a href="../reference/col_vals_between.html">col_vals_between</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">month</span>,</span>
<span>    left <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    right <span class="op">=</span> <span class="fl">12</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that column `day` is of type: integer</span></span>
<span>  <span class="fu"><a href="../reference/col_is_integer.html">col_is_integer</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">day</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that values in `day` should be between `1` and `31`</span></span>
<span>  <span class="fu"><a href="../reference/col_vals_between.html">col_vals_between</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">day</span>,</span>
<span>    left <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    right <span class="op">=</span> <span class="fl">31</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that column `hour` is of type: numeric</span></span>
<span>  <span class="fu"><a href="../reference/col_is_numeric.html">col_is_numeric</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">hour</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that values in `hour` should be between `0` and `23`</span></span>
<span>  <span class="fu"><a href="../reference/col_vals_between.html">col_vals_between</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">hour</span>,</span>
<span>    left <span class="op">=</span> <span class="fl">0</span>,</span>
<span>    right <span class="op">=</span> <span class="fl">23</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that column `lat` is of type: numeric</span></span>
<span>  <span class="fu"><a href="../reference/col_is_numeric.html">col_is_numeric</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">lat</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that values in `lat` should be between `-90` and `90`</span></span>
<span>  <span class="fu"><a href="../reference/col_vals_between.html">col_vals_between</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">lat</span>,</span>
<span>    left <span class="op">=</span> <span class="op">-</span><span class="fl">90</span>,</span>
<span>    right <span class="op">=</span> <span class="fl">90</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that column `long` is of type: numeric</span></span>
<span>  <span class="fu"><a href="../reference/col_is_numeric.html">col_is_numeric</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">long</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that values in `long` should be between `-180` and `180`</span></span>
<span>  <span class="fu"><a href="../reference/col_vals_between.html">col_vals_between</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">long</span>,</span>
<span>    left <span class="op">=</span> <span class="op">-</span><span class="fl">180</span>,</span>
<span>    right <span class="op">=</span> <span class="fl">180</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that column `status` is of type: character</span></span>
<span>  <span class="fu"><a href="../reference/col_is_character.html">col_is_character</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">status</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that column `category` is of type: factor</span></span>
<span>  <span class="fu"><a href="../reference/col_is_factor.html">col_is_factor</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">category</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that column `wind` is of type: integer</span></span>
<span>  <span class="fu"><a href="../reference/col_is_integer.html">col_is_integer</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">wind</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that values in `wind` should be between `10` and `160`</span></span>
<span>  <span class="fu"><a href="../reference/col_vals_between.html">col_vals_between</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">wind</span>,</span>
<span>    left <span class="op">=</span> <span class="fl">10</span>,</span>
<span>    right <span class="op">=</span> <span class="fl">160</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that column `pressure` is of type: integer</span></span>
<span>  <span class="fu"><a href="../reference/col_is_integer.html">col_is_integer</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">pressure</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that values in `pressure` should be between `882` and `1022`</span></span>
<span>  <span class="fu"><a href="../reference/col_vals_between.html">col_vals_between</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">pressure</span>,</span>
<span>    left <span class="op">=</span> <span class="fl">882</span>,</span>
<span>    right <span class="op">=</span> <span class="fl">1022</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that column `tropicalstorm_force_diameter` is of type: integer</span></span>
<span>  <span class="fu"><a href="../reference/col_is_integer.html">col_is_integer</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">tropicalstorm_force_diameter</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that values in `tropicalstorm_force_diameter` should be between</span></span>
<span>  <span class="co"># `0` and `870`</span></span>
<span>  <span class="fu"><a href="../reference/col_vals_between.html">col_vals_between</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">tropicalstorm_force_diameter</span>,</span>
<span>    left <span class="op">=</span> <span class="fl">0</span>,</span>
<span>    right <span class="op">=</span> <span class="fl">870</span>,</span>
<span>    na_pass <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that column `hurricane_force_diameter` is of type: integer</span></span>
<span>  <span class="fu"><a href="../reference/col_is_integer.html">col_is_integer</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">hurricane_force_diameter</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that values in `hurricane_force_diameter` should be between</span></span>
<span>  <span class="co"># `0` and `300`</span></span>
<span>  <span class="fu"><a href="../reference/col_vals_between.html">col_vals_between</a></span><span class="op">(</span></span>
<span>    columns <span class="op">=</span> <span class="va">hurricane_force_diameter</span>,</span>
<span>    left <span class="op">=</span> <span class="fl">0</span>,</span>
<span>    right <span class="op">=</span> <span class="fl">300</span>,</span>
<span>    na_pass <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect entirely distinct rows across all columns</span></span>
<span>  <span class="fu"><a href="../reference/rows_distinct.html">rows_distinct</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Expect that column schemas match</span></span>
<span>  <span class="fu"><a href="../reference/col_schema_match.html">col_schema_match</a></span><span class="op">(</span></span>
<span>    schema <span class="op">=</span> <span class="fu"><a href="../reference/col_schema.html">col_schema</a></span><span class="op">(</span></span>
<span>      name <span class="op">=</span> <span class="st">"character"</span>,</span>
<span>      year <span class="op">=</span> <span class="st">"numeric"</span>,</span>
<span>      month <span class="op">=</span> <span class="st">"numeric"</span>,</span>
<span>      day <span class="op">=</span> <span class="st">"integer"</span>,</span>
<span>      hour <span class="op">=</span> <span class="st">"numeric"</span>,</span>
<span>      lat <span class="op">=</span> <span class="st">"numeric"</span>,</span>
<span>      long <span class="op">=</span> <span class="st">"numeric"</span>,</span>
<span>      status <span class="op">=</span> <span class="st">"character"</span>,</span>
<span>      category <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ordered"</span>, <span class="st">"factor"</span><span class="op">)</span>,</span>
<span>      wind <span class="op">=</span> <span class="st">"integer"</span>,</span>
<span>      pressure <span class="op">=</span> <span class="st">"integer"</span>,</span>
<span>      tropicalstorm_force_diameter <span class="op">=</span> <span class="st">"integer"</span>,</span>
<span>      hurricane_force_diameter <span class="op">=</span> <span class="st">"integer"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/interrogate.html">interrogate</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">agent</span></span></code></pre><p></p></div>
<p>This is runnable as is, and the promise is that the interrogation should
produce no failing test units. After execution, we get the following
validation report:</p>
<p><img src="https://raw.githubusercontent.com/rstudio/pointblank/main/images/man_draft_validation_1.png" alt="This image was generated from the first code example in the `draft_validation()` help file." style="width:100%;"></p>
<p>All of the expressions in the resulting file constitute just a rough
approximation of what a validation plan should be for a dataset. Certainly,
the value ranges in the emitted <code><a href="col_vals_between.html">col_vals_between()</a></code> may not be realistic for
the <code>wind</code> column and may require some modification (the provided <code>left</code> and
<code>right</code> values are just the limits of the provided data). However, note that
the <code>lat</code> and <code>long</code> (latitude and longitude) columns have acceptable ranges
(providing the limits of valid lat/lon values). This is thanks to
<strong>pointblank</strong>'s column inference routines, which is able to understand what
certain columns contain.</p>
<p>For an evolving dataset that will experience changes (either in the form of
revised data and addition/deletion of rows or columns), the emitted
validation will serve as a good first step and changes can more easily be
made since there is a foundation to build from.</p>
    </div>
    <div class="section level2">
    <h2 id="function-id">Function ID<a class="anchor" aria-label="anchor" href="#function-id"></a></h2>


<p>1-11</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other Planning and Prep:
<code><a href="action_levels.html">action_levels</a>()</code>,
<code><a href="create_agent.html">create_agent</a>()</code>,
<code><a href="create_informant.html">create_informant</a>()</code>,
<code><a href="db_tbl.html">db_tbl</a>()</code>,
<code><a href="file_tbl.html">file_tbl</a>()</code>,
<code><a href="scan_data.html">scan_data</a>()</code>,
<code><a href="tbl_get.html">tbl_get</a>()</code>,
<code><a href="tbl_source.html">tbl_source</a>()</code>,
<code><a href="tbl_store.html">tbl_store</a>()</code>,
<code><a href="validate_rmd.html">validate_rmd</a>()</code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Richard Iannone, Mauricio Vargas, June Choe.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

